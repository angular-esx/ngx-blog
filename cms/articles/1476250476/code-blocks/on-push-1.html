import * as ngCore from '@angular/core';

export var infoComponent = ngCore.Component({
  selector: 'my-info',
  template: [
    '<p><strong>First Name:</strong> {{model.firstName}}</p>',
    '<p><strong>Last Name:</strong> {{model.lastName}}</p>'
  ].join(''),
  inputs: [ 'model' ]
})
.Class({
  constructor: function(){},

  ngDoCheck: function(){
    console.log('infoComponent checked');
  }
});

/*--------------------------------------------------------------*/

export var childComponent = ngCore.Component({
  selector: 'my-child',
  template: '<my-info [model]="model"></my-info>',
  directives: [ infoComponent ],
  inputs: [ 'model' ]
})
.Class({
  constructor: function(){},

  ngDoCheck: function(){
    console.log('childComponent checked');
  }
});

/*--------------------------------------------------------------*/

export var exampleComponent = ngCore.Component({
  selector: 'my-example',
  template: [
    '<h1>ChangeDetectionStrategy.OnPush</h1>',
    '<button (click)="changeModel()">Change Model</button>',
    '<br/>',
    '<my-child [model]="model"></my-child>'
  ].join(''),
  directives: [ childComponent ]
})
.Class({
  constructor: function(){},

  ngDoCheck: function(){
    console.log('exampleComponent checked');
  },

  ngOnInit: function(){
    this.text = '';

    this.model = {
      firstName: 'Leon',
      lastName: 'Kennedy'
    };
  },

  changeModel: function(){
    console.log('Changing Model');
    
    this.text = 'text changed';
  }
});