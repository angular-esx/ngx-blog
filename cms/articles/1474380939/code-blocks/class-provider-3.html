import * as ngCore from '@angular/core';

export var rootLogService = ngCore.Class({
  constructor: function(){}
});

/*---------------------------------------------------------*/

export var supperLogService = ngCore.Class({
  constructor: function(){
    this.name = 'supperLogService';
  }
});

/*---------------------------------------------------------*/

export var todoItemComponent = ngCore.Component({
  .....
})
.Class({
  constructor: [rootLogService, function(logService){
    console.log('todoItemComponent', logService.name);
  }]
});

/*---------------------------------------------------------*/

export var todoListComponent = ngCore.Component({
  .....
  directives: [ todoItemComponent ],
  providers: [
    { provide: logService, useClass: supperLogService } 
  ]
})
.Class({
  constructor: [logService, function(logService){
    console.log('todoListComponent', logService.name + ' is hosted by todoListComponent');
  }]
});

/*---------------------------------------------------------*/

export var todosComponent = ngCore.Component({
  .....
  directives: [ todoListComponent, todoItemComponent ],
  providers: [
    logService,
    { provide: rootLogService, useExisting: logService }
  ]
})
.Class({
  constructor: [logService, function(logService){
    logService.setName('logService is hosted by todosComponent');
  }]
});
