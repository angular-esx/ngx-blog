import { OpaqueToken } from '@angular/core';

export var WINDOW = new OpaqueToken('window');

export var WINDOW_PROVIDERS = [
  { provide: WINDOW, useValue: window }
];

/*---------------------------------------------------------*/

import { WINDOW } from './window.model';

function _logService(){
  this.constructor = [
    ngCore.Inject(WINDOW),

    function(window){
      this.window = window;
    }
  ];

  this.log = function(text){
    this.window.console.log(text);
  }
}
export var logService = ngCore.Class(new _logService());

/*---------------------------------------------------------*/

import { WINDOW_PROVIDERS } from './window.model';

function _todosComponent(){
  this.constructor = [logService, function(logService){
    logService.log('This message is logged by using window.console via DI');
  }];
}
export var todosComponent = ngCore.Component({
  .....
  providers: [ 
    logService,
    WINDOW_PROVIDERS
  ]
})
.Class(new _todosComponent());

