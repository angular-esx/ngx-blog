import { OpaqueToken } from '@angular/core';

export var WINDOW = new OpaqueToken('window');

export var WINDOW_PROVIDERS = [
  { provide: WINDOW, useValue: window }
];

/*---------------------------------------------------------*/

import { WINDOW } from './window.model';

export var logService = ngCore.Class({
  constructor: [
    ngCore.Inject(WINDOW),

    function(window){
      this.window = window;
    }
  ],

  log: function(text){
    this.window.console.log(text);
  }
});

/*---------------------------------------------------------*/

import { WINDOW_PROVIDERS } from './window.model';

export var todosComponent = ngCore.Component({
  .....
  providers: [ 
    logService,
    WINDOW_PROVIDERS
  ]
})
.Class({
  constructor: [logService, function(logService){
    logService.log('This message is logged by using window.console via DI');
  }]
});

